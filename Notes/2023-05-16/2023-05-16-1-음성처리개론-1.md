---
title: 음성처리개론 1
---

# 음성처리개론 1

## 강의 개요

오늘은 딥러닝 부분은 없고, 음성 데이터를 어떻게 처리할 수 있는지 공부한다. 

## 음성대화 인터페이스 (VUI, VUX) 소개

- VOICE + User Interface
- 음성을 통한 서비스 인터페이스 및 경험을 말함.
- 대화형 인공지능과 결합하여 구현
    - 챗봇 또는 가상 상담
    - 주요 객체명 인식, 의도 분류 등 자연어처리(키워드 기반) 기술 기반

- 심심이
    - 2000년대 초반
    - Rule Based: 특정 키워드에 반응하는 방식
    - 맥락과 관련없는 응담이 나오는 한계점

- 이루다
    - 최근

- 최근 ChatGPT를 기반으로 여러가지 서비스가 쏟아져나오고 있음

- 기존 인터페이스와의 차별점
    - 복잡한 화면 설계가 필요 없음
    - 입력 속도가 자판에 비교해 빠름
        - 인간이 10초 안에 말할 수 있는 글자 수 60자
    - 다른 작업과 병행하여 활용하기 쉬움.
        - 설거지 하다가 노래 틀기 등
    - 인증, 인가로 확대 가능.
        - 성문: 사람마다 고유한 목소리의 특징
        - 홈쇼핑을 보다가 목소리로 인증하여 바로 결제

- 음성 인터페이스의 기술 구성
    - 음성인식(STT): 사용자 입력
    - NLU(자연 연어 이해)
    - 텍스트 분석 (도메인, 의미, 의도, 화행)
    - 대화 관리
    - 언어 생성
    - 음성합성(TTS): 사용자에 대한 피드백

- 최근 사례
    - 대표적으로 스마트 스피커
        - 구글 홈, KT 기가지니, 카카오, 클로버, 아마존 에코 등
        - 한창 19-20년 많은 제품 출시. 현재도 성장 추세는 여전. 그러나 예전보다는 둔화된 편.
- 최근 추이
    - 웨어러블, 스마트 가전, 커넥티드 카 등으로 VUI 적용처 확대

- 발전 양상
    - 1997' 애니콜 음성 자동 다이얼 CM
        - VUI 도입 시도. 그러나 품질이 좋아진 것은 최근의 일
    - 2020' 현대 기아자동차 K5 인텔리전스 CM
    - 2021 네이버 클로바노트 CM
        - 대화형 인공지능은 아니지만, 자동 전사 기능
    - 2022' KT AI 통화비서 CM
    - 인접 분야
        - 메타휴먼 / AI휴먼 무섭게 발전. VUI와 결합 가능성.

## 음성 데이터 개요

자연어처리와는 많이 다름. 영상처리와는 신호를 다룬다는 점에서 연관되는 지점이 있음.

### 음운론

- 사람이 말을 할 떄에는 여러 가지 기관이 같이 연동하여 소리를 만들게 됨
- 음성 조음 기관
    - 조음기
        - 성대, 연구개, 혀, 이빨, 턱 등
    - 공간
        - 구강 공간, 비강 공간 (-> 비음)
    - 후두
- 성대에서 발생한 소리가 각각의 기관과 공간을 지나치며 어떠한 주파수로 발생하고 어떠한 합성파가 만들어지는지

성대가 닫혀있으면 빠르고 높은 주파수, 성대가 열려있으면 느리고 낮은 주파수

- 음소
- 자음
    - 조음 기관의 움직임
    - 공기 흐름 저항이 크다
- 모음
    - 임술 모양과 많이 연관
    - 공기 흐름의 저항이 작다

### 데이터로서의 음성

- 자연 발화의 디지털 신호화
    - 음성 발화 -> 표본화(샘플링) -> 양자화 -> 주파수 분해 -> 디지털 신호
- 파동과 소리
    - 파동의 3요소
        - 진동수(주기의 역수)
        - 진폭
        - 위상
    - 소리의 3요소
        - 고저 (피치)
        - 음량
        - 음색
    - 각각은 대응되는 경향이 있음

- 표본화
    - 음성은 연속되지만, 디지털 신호로 변환하기 위해서는 불가피하게 분절해야만 한다.
    - 이 과정을 표본화라고 한다.
    - 1초당 몇 개의 신호를 기록할 것인가
        - 전화:  8000Hz (보통 취급하는 가장 저품질 오디오 데이터), 16000Hz
        - 음성합성에서는 최소 22050Hz(22kHz) 정도의 오디오 데이터를 사용. 44kHz, 48kHz 데이터도 사용되곤 함
    - 나이키스트 정리
        - 원음을 보존하기 위해서는 최고 주파수의 2배 이상의 주파수로 표본화해야한다
        - 샘플링 레이트가 낮다면 데이터가 듬성듬성하게 들어가서 주파수별로 분해하기 어렵기 때문

- 양자화
    - 어느 정도로 정확하게 표현할 것인가
    - 표본화가 시간의 축에서의 눈금을 정하는 단계라면, 양자화는 신호의 크기 값의 눈금을 정하는 단계라고 생각하면 될 듯
    - 8비트, 16비트 양자화 등.

- 주파수 분해
    - 소리는 일반적으로 여러 주파수의 합인 합성파의 형태
    - 이를 성분이 되는 주파수로 분해할 수 있음
    - [푸리에 변환](https://www.youtube.com/watch?v=Mc9PHZ3H36M&pp=ygUP7ZG466as7JeQ67OA7ZmY)이 사용됨

- 푸리에 변환
    - 이산 푸리에 변환(DFT): 소리가 가지는 시간 성질을 무시한다는 한계점
    - 고속 푸리에 변환(FFT): 대역폭을 나누어 처리하기 때문에 빠르게 처리 가능
        - 리니어하게 주파수 대역을 나누거나,
        - 사람 귀가 포착할 수 있는 1000Hz까지를 우선해 처리하는 등 대역폭을 나누는 기준 다양
    - 국소 푸리에 변환(STFT): 시간 단위로 나누어 처리
        - 고속 푸리에 변환을 하되, 이를 시간 단위로도 잘라서 처리한다
        - 시간 단위로 자른 오디오 단위: 프레임(=윈도우)
            - 보통 0.025초 단위
            - 계산 예시: 16000Hz, 프레임 길이 0.025s, 겹침 길이 0.01s, 오디오 전체5s
            - 프레임 당 신호 수: 0.025 * 16000 = 400개 샘플
            - 겹침 당 신호 수: 0.01 * 16000 = 아몰라
            - 프레임 개수: 498

### 디지털 신호의 표현형

- 파형 (waveform)
    - 시간 축에 따른 진폭의 변화
    - 시간에 따른 음성 크기
- 스펙트럼
    - 주파수 축에 따른 진폭의 변화
    - 고속푸리에 변환을 하면 나오는 데이터의 일종. 시간 정보 소실
- 스펙트로그램 (선형)
    - 시간과 주파수 축의 변화에 따른 진폭 변화(색의 농도)
    - 파형과 스펙트럼 성질이 같이 드러남
    - 국소 푸리에 변환을 거치면 스펙트로그램 표현 가능
    - X축 시간, Y축 주파수. 농담 진폭
- 멜 스펙트로그램
    - 사람의 청각은 주파수가 낮은 대역에 민감
    - 청각이 민감하게 반응하는 1000Hz까지는 선형으로, 그 이상은 로그 스케일에 따라 소리 특징 추출
        - 낮은 주파수 대역은 촘촘. 그 이후로 가면 듬성
    - 선형 스펙트로그램보다 물결이 잘 보임
- MFCC (Mel Frequency Cepstrum Coefficients)
    - 피치 표현에 특화
    - 음색 인식에 적합한 특징 추출 방법 -> 화자 분리 등에 사용
    - 방법
        - 멜 스펙트럼 + 켑스트럴 분석
            - 멜 스펙트럼: 스펙트럼을 멜 스케일에 따라 표현한 것
        - 멜 스펙트로그램 + DCT 압축

### 공개 오디오 데이터셋

- 음성 분야는 이전부터 많은 도메인 지식을 필요로 하고, 데이터 수집에 높은 비용이 들어 접근 장벽이 높았음
- 그러나 최근 데이터셋이 다수 공개되면서 이러한 어려움이 해소되는 추세
- 영어: LJ Sppech(합성), Libri TTS (인식)
- 한국어: 클로바 콜 (인식), KSS(합성), 카이스트 오디오북 데이터셋 (합성)
    - KSS를 제외하면 모두 다화자
- 중국어 AISHELL-3, 일본어 JUST 등

### 파이썬을 이용한 오디오 처리
- 오디오 처리 패키지
    - Librosa, Pydub 등
- 오디오 전처리
    - 지금까지는 자연 발화를 데이터로 옮기는 것과 관련된 공부를 헀고, 앞으로는 디지털 오디오로부터 전처리를 하고 특징을 추출하는 것을 공부해본다.
    - 샘플레이트 조정, 정규화, 무음제거(트림) 등

