---
title: 커넥션 풀(Connetion Pool) 개요
---

# 커넥션 풀(Connection Pool) 개요
컴퓨터 과학에서 풀이라고 하면, 많은 자원을 모아놓은 공간을 의미한다. 객체를 모아놨다면 오브젝트 풀, 쓰레드를 모아놨다면 쓰레드 풀이 된다. ArrayList든 HashMap이든 집합적 자료구조에 특정 자원을 모아놓은 것이다.

풀로 모아놓는 자원들은, 생성할 때 비용이 적지 않게 들어가는 것들이다. 즉, 이들 자원을 매번 새로 생성하고 파괴하는 방식은 비효율적이다. 따라서 그 대안으로 자원을 미리 풀에 모아놓고, 사용할 때 마다 풀에서 가져와 사용하며, 사용이 끝나면 다시 풀에 반납하는 방식으로 자원을 효율적으로 운용하고자 하는 것이다.

마찬가지로 다수의 사용자에게 동시적으로 커넥션을 제공해야할 때에도, 커넥션을 풀로 관리하면 보다 더 효율적으로 운용할 수 있게 된다.

이번 시간에는 JavaFX에서 커넥션 풀을 테스트하고자 한다. 사실 커넥션 풀은 멀티 쓰레드의 WAS 환경에서 사용하는 것이 일반적이다. 따라서 JavaFX 데스크탑 어플리케이션에서 커넥션 풀을 적용하는 것이 비효율적으로 보일 수 있으나, 어디까지 흐름과 원리를 익히기 위한 테스트 용도라는 것을 생각해주길 바란다.

# 기존 프로젝트에의 적용
## 기존
특정 키워드가 제목에 들어간 책을 검색 할 때, 특정 ISBN의 책을 삭제할 때, 그 때 그 때마다 커넥션을 만들고 닫기를 반복하였다.

## 커넥션 풀 적용
1. 어플리케이션이 실행되자마자 여러 커넥션을 만들고 커넥션 풀에 저장한다.
2. 필요할 때 커넥션 풀에서 커넥션을 가져와 사용하고, 커넥션 풀에 반납한다.
3. 어플리케이션이 종료될 떄 커넥션 풀 안의 커넥션을 닫는다.
4. 어플리케이션이 시작되는 속도는 느려질 수밖에 없다.

## 방법
1. 커넥션 풀을 직접 구현한다.
   - HashMap 등을 이용하여 집합 구조를 만들고 거기에 커넥션을 넣는 방식으로 구성
   - 커넥션 풀이 커넥션을 빌려주는 메서드, 커넥션을 반납받는 메서드, 반납받은 커넥션을 청소하는 메서드를 만들어야하므로 번거롭다.
2. 이미 공개된 라이브러리를 사용한다.
   - 직접 구현하는 것은 번거로우며 성능상 이점이 떨어진다.
   - 우리는 아파치 소프트웨어 재단의 dbcp 라이브러리를 활용하고자 한다.