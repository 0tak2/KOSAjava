<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>

    <!-- Vue.js -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
</head>
<body>
    <div id="app">
        <child-component v-on:print_msg="printMsg"></child-component> <!-- 하위 컴포넌트에서 emit한 이벤트를 받을 수 있도록 처리 -->
    </div>

    <script>
        // 전역 컴포넌트를 루트 컴포넌트 하위에서 사용
        Vue.component('child-component', {
            template: `
                <div>
                    <button v-on:click="childFunc">클릭</button>    
                </div>
            `,
            data() {
                return {
                    myVar: 200
                };
            },
            methods: {
                // 여기에 버튼에 대한 이벤트 핸들러가 있어야 함
                childFunc() { // 혹은 축약하지 않고: childFunc: function() { ... }
                    this.$emit('print_msg', 100, 'Hello', {
                        msg: '전달된 이벤트'
                    }); // 이벤트를 발생시킴. 사용자 정의 이름과 추가적인 데이터 지정 가능
                }
            }
        });

        new Vue({
            el: '#app',
            methods: {
                printMsg(...args) {
                    console.log('이벤트 발생');

                    args.forEach((item) => {
                        console.log(item);
                    })
                }
            }
        })
    </script>
</body>
</html>